/*! For license information please see 454.4df0ee18.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemployee_access_dashboard=self.webpackChunkemployee_access_dashboard||[]).push([[454],{3454:(e,s,a)=>{a.r(s),a.d(s,{DashboardPage:()=>v});a(5376);var t=a(6608),l=a(3686),r=a(5635);const d=(0,r.A)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),i=(0,r.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),c=(0,r.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var n=a(49),o=a(6651),x=a(2478);const m=(0,r.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var h=a(8477),y=a(1325),g=a(1660);const p=async()=>{const{data:e}=await l.A.get("/api/dashboard");return e},b=e=>{let{title:s,value:a,icon:t,color:l}=e;return(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex items-center gap-4",children:[(0,g.jsx)("div",{className:"w-12 h-12 rounded-lg flex-shrink-0 flex items-center justify-center ".concat(l),children:t}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s}),(0,g.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:a})]})]})},j=e=>{let{data:s,title:a}=e;return(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,g.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,g.jsx)(d,{className:"w-5 h-5"})," ",a]}),(0,g.jsx)("div",{className:"space-y-4",children:s.map(e=>{const s=e.used/e.total*100;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-between items-center text-sm mb-1",children:[(0,g.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.name}),(0,g.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[e.used," / ",e.total]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:(0,g.jsx)(y.P.div,{className:"bg-kredivo-primary h-2.5 rounded-full",initial:{width:0},animate:{width:"".concat(s,"%")},transition:{duration:.5,ease:"easeOut"}})})]},e.name)})})]})},u=e=>{let{data:s,title:a}=e;return(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,g.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,g.jsx)(i,{className:"w-5 h-5"})," ",a]}),(0,g.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,g.jsxs)("li",{className:"flex justify-between items-center text-sm",children:[(0,g.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.name}),(0,g.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-md",children:e.count})]},e.name))})]})},k=e=>{let{forEscalationCount:s}=e;return(0,g.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:"flex-shrink-0",children:(0,g.jsx)(c,{className:"h-5 w-5 text-yellow-500"})}),(0,g.jsx)("div",{className:"ml-3",children:(0,g.jsxs)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:["You have ",(0,g.jsx)("span",{className:"font-bold",children:s})," ","employee(s) needing escalation."]})})]})})},v=()=>{const{data:e,isLoading:s,error:a}=(0,t.I)({queryKey:["dashboardData"],queryFn:p});if(s)return(0,g.jsx)("div",{className:"p-6 text-center",children:"Loading dashboard..."});if(a)return(0,g.jsx)("div",{className:"p-6 text-center text-red-500",children:"Could not load dashboard data."});const{stats:l,recentActivity:r,recentTickets:d,licenseStats:i,distribution:c}=e||{};return(0,g.jsxs)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"p-4 sm:p-6",children:[(0,g.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Dashboard"}),l&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,g.jsx)(b,{title:"Total Employees",value:l.total_employees,icon:(0,g.jsx)(n.A,{className:"text-white"}),color:"bg-blue-500"}),(0,g.jsx)(b,{title:"Active Employees",value:l.active_employees,icon:(0,g.jsx)(o.A,{className:"text-white"}),color:"bg-green-500"}),(0,g.jsx)(b,{title:"Total Users",value:l.total_users,icon:(0,g.jsx)(n.A,{className:"text-white"}),color:"bg-indigo-500"}),(0,g.jsx)(b,{title:"For Escalation",value:l.for_escalation_employees,icon:(0,g.jsx)(x.A,{className:"text-white"}),color:"bg-yellow-500"})]}),l.for_escalation_employees>0&&(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(k,{forEscalationCount:l.for_escalation_employees})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,g.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[i&&(0,g.jsx)(j,{data:i,title:"License Utilization"}),c&&(0,g.jsx)(u,{data:c,title:"Active Employees by Location"})]}),(0,g.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[r&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,g.jsx)(m,{})," Recent Activity"]}),(0,g.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:r.map(e=>(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex-shrink-0"}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{className:"text-sm",children:[e.action_type.replace(/_/g," ")," by"," ",(0,g.jsx)("span",{className:"font-semibold",children:e.actor_email||"System"})]}),(0,g.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]},e.id))})]}),d&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,g.jsx)(h.A,{})," Recent Tickets"]}),(0,g.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:d.map(e=>(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex-shrink-0"}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{className:"text-sm",children:[(0,g.jsxs)("span",{className:"font-semibold ".concat("Onboarding"===e.ticket_type?"text-green-500":"text-red-500"),children:[e.ticket_type,":"]})," ",e.first_name," ",e.last_name]}),(0,g.jsx)("p",{className:"text-xs text-gray-500",children:e.ticket_id})]})]},"".concat(e.ticket_type,"-").concat(e.id)))})]})]})]})]})}},6651:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(5635).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},8477:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(5635).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])}}]);
//# sourceMappingURL=454.4df0ee18.chunk.js.map