{"version":3,"file":"static/js/133.220cb0e5.chunk.js","mappings":"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","sources":["components/ui/WelcomePage.js","components/ui/ChangePasswordModal.js","pages/ProfilePage.js"],"sourcesContent":["import React from 'react';\nimport { User } from 'lucide-react';\n\nexport const WelcomePage = ({ user }) => (\n    <div className=\"p-6 text-center\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 max-w-lg mx-auto p-8\">\n            <User className=\"mx-auto w-16 h-16 text-blue-500\" />\n            <h2 className=\"mt-6 text-2xl font-bold text-gray-900 dark:text-white\">Welcome, {user.name}!</h2>\n            <p className=\"mt-2 text-gray-600 dark:text-gray-400\">Your user account is active and you are successfully logged in.</p>\n            <div className=\"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-yellow-800 dark:text-yellow-300\">\n                <p className=\"font-semibold\">Your employee profile has not been created in the system yet. Please contact an IT administrator to set up your employee record.</p>\n            </div>\n        </div>\n    </div>\n);","import React, { useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { Button } from './Button';\nimport api from '../../api/api';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const ChangePasswordModal = ({ onClose }) => {\n    const [formData, setFormData] = useState({ oldPassword: '', newPassword: '', confirmPassword: '' });\n    const [error, setError] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n\n        if (formData.newPassword !== formData.confirmPassword) {\n            setError(\"New passwords do not match.\");\n            return;\n        }\n\n        setIsSubmitting(true);\n        try {\n            const { oldPassword, newPassword } = formData;\n            await api.post('/api/users/change-password', { oldPassword, newPassword });\n            toast.success('Password changed successfully!');\n            onClose();\n        } catch (err) {\n            setError(err.response?.data?.message || 'An error occurred.');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n    \n    const passwordRequirements = [\n        \"At least 8 characters long\",\n        \"Contains at least one uppercase letter\",\n        \"Contains at least one lowercase letter\",\n        \"Contains at least one number\",\n        \"Contains at least one special character\"\n    ];\n\n    return (\n        <AnimatePresence>\n            <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\"\n            >\n                <motion.div\n                    initial={{ scale: 0.9, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0.9, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md\"\n                >\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"p-6\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Change Password</h3>\n                            <div className=\"mt-6 space-y-4\">\n                                <div>\n                                    <label htmlFor=\"oldPassword\">Old Password</label>\n                                    <input type=\"password\" name=\"oldPassword\" id=\"oldPassword\" required value={formData.oldPassword} onChange={handleChange} className=\"mt-1 w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600\" />\n                                </div>\n                                <div>\n                                    <label htmlFor=\"newPassword\">New Password</label>\n                                    <input type=\"password\" name=\"newPassword\" id=\"newPassword\" required value={formData.newPassword} onChange={handleChange} className=\"mt-1 w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600\" />\n                                </div>\n                                <div>\n                                    <label htmlFor=\"confirmPassword\">Confirm New Password</label>\n                                    <input type=\"password\" name=\"confirmPassword\" id=\"confirmPassword\" required value={formData.confirmPassword} onChange={handleChange} className=\"mt-1 w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600\" />\n                                </div>\n                                <div className=\"text-xs text-gray-500 dark:text-gray-400 space-y-1\">\n                                    <p className=\"font-semibold\">Password must meet the following requirements:</p>\n                                    <ul className=\"list-disc list-inside\">\n                                        {passwordRequirements.map(req => <li key={req}>{req}</li>)}\n                                    </ul>\n                                </div>\n                                {error && <p className=\"text-sm text-red-500\">{error}</p>}\n                            </div>\n                        </div>\n                        <div className=\"bg-gray-50 dark:bg-gray-700/50 px-6 py-3 flex justify-end gap-3\">\n                            <Button type=\"button\" onClick={onClose} disabled={isSubmitting} variant=\"secondary\">Cancel</Button>\n                            <Button type=\"submit\" disabled={isSubmitting} variant=\"primary\">{isSubmitting ? 'Saving...' : 'Save Changes'}</Button>\n                        </div>\n                    </form>\n                </motion.div>\n            </motion.div>\n        </AnimatePresence>\n    );\n};","// packages/client/src/pages/ProfilePage.js\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport {\n  UserSquare,\n  LayoutGrid,\n  HardDrive,\n  Bot,\n  KeyRound,\n  Laptop,\n  MoreVertical,\n} from \"lucide-react\";\nimport { EmployeeDetailHeader } from \"./EmployeeDetailPage/EmployeeDetailHeader\";\nimport { EmployeeDetailsTab } from \"./EmployeeDetailPage/EmployeeDetailsTab\";\nimport { EmployeeApplicationsTab } from \"./EmployeeDetailPage/EmployeeApplicationsTab\";\nimport { JiraTicketModal } from \"../components/ui/JiraTicketModal\";\nimport { WelcomePage } from \"../components/ui/WelcomePage\";\nimport { AccessDeniedPage } from \"../components/ui/AccessDeniedPage\";\nimport { UnifiedTimelinePage } from \"./EmployeeDetailPage/UnifiedTimelinePage\";\nimport { Button } from \"../components/ui/Button\";\nimport { ChangePasswordModal } from \"../components/ui/ChangePasswordModal\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { PlatformLogPage } from \"./EmployeeDetailPage/PlatformLogPage\";\nimport { DevicesTab } from \"./EmployeeDetailPage/DevicesTab\";\nimport { useMediaQuery } from \"../hooks/useMediaQuery\";\n\nexport const ProfilePage = ({\n  employee,\n  permissions,\n  onEdit,\n  onDeactivate,\n  onLogout,\n  user,\n}) => {\n  const [activeTab, setActiveTab] = useState(\"details\");\n  const [platformStatuses, setPlatformStatuses] = useState([]);\n  const [isLoadingPlatforms, setIsLoadingPlatforms] = useState(true);\n  const [isChangePasswordModalOpen, setIsChangePasswordModalOpen] =\n    useState(false);\n\n  const [tabData, setTabData] = useState({\n    timeline: { data: null, loading: false, error: null, fetched: false },\n  });\n\n  const [isJiraModalOpen, setIsJiraModalOpen] = useState(false);\n  const [selectedTicketId, setSelectedTicketId] = useState(null);\n  const [isMoreMenuOpen, setIsMoreMenuOpen] = useState(false);\n  const moreMenuRef = useRef(null);\n  const isDesktop = useMediaQuery(\"(min-width: 768px)\");\n\n  const allTabs = [\n    {\n      id: \"details\",\n      label: \"Details\",\n      icon: <UserSquare size={16} />,\n      permission: true,\n    },\n    {\n      id: \"devices\",\n      label: \"Devices\",\n      icon: <Laptop size={16} />,\n      permission: true,\n    },\n    {\n      id: \"platforms\",\n      label: \"Apps & Platforms\",\n      shortLabel: \"Access\",\n      icon: <LayoutGrid size={16} />,\n      permission: true,\n    },\n    {\n      id: \"platform-logs\",\n      label: \"Platform Logs\",\n      shortLabel: \"Logs\",\n      icon: <HardDrive size={16} />,\n      permission: permissions.includes(\"log:read:platform\"),\n    },\n    {\n      id: \"timeline\",\n      label: \"Unified Timeline\",\n      shortLabel: \"Timeline\",\n      icon: <Bot size={16} />,\n      permission: permissions.includes(\"log:read:platform\"),\n    },\n  ].filter((tab) => tab.permission);\n\n  const VISIBLE_TABS_COUNT = 3;\n  const visibleTabs = isDesktop\n    ? allTabs\n    : allTabs.slice(0, VISIBLE_TABS_COUNT);\n  const overflowTabs = isDesktop ? [] : allTabs.slice(VISIBLE_TABS_COUNT);\n  const isActiveTabInMoreMenu = overflowTabs.some(\n    (tab) => tab.id === activeTab\n  );\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (moreMenuRef.current && !moreMenuRef.current.contains(event.target)) {\n        setIsMoreMenuOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const fetchTimelineData = useCallback(\n    (force = false) => {\n      if (\n        !employee ||\n        !permissions.includes(\"log:read:platform\") ||\n        (!force && (tabData.timeline.fetched || tabData.timeline.loading))\n      ) {\n        return;\n      }\n\n      const token = localStorage.getItem(\"accessToken\");\n      let url = `${process.env.REACT_APP_API_BASE_URL}/api/employees/${employee.id}/unified-timeline`;\n\n      setTabData((prev) => ({\n        ...prev,\n        timeline: { ...prev.timeline, loading: true },\n      }));\n\n      fetch(url, { headers: { Authorization: `Bearer ${token}` } })\n        .then((res) =>\n          res.ok ? res.json() : res.json().then((err) => Promise.reject(err))\n        )\n        .then((data) => {\n          setTabData((prev) => ({\n            ...prev,\n            timeline: { data, loading: false, error: null, fetched: true },\n          }));\n        })\n        .catch((err) => {\n          setTabData((prev) => ({\n            ...prev,\n            timeline: {\n              data: [],\n              loading: false,\n              error: err.message,\n              fetched: true,\n            },\n          }));\n        });\n    },\n    [employee, permissions, tabData.timeline]\n  );\n\n  const fetchInitialData = useCallback(async () => {\n    if (!employee) return;\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) {\n      onLogout();\n      return;\n    }\n\n    setIsLoadingPlatforms(true);\n    fetch(\n      `${process.env.REACT_APP_API_BASE_URL}/api/employees/${employee.id}/platform-statuses`,\n      { headers: { Authorization: `Bearer ${token}` } }\n    )\n      .then((res) => (res.ok ? res.json() : []))\n      .then((statusData) => setPlatformStatuses(statusData))\n      .catch((err) => console.error(\"Failed to fetch platform statuses:\", err))\n      .finally(() => setIsLoadingPlatforms(false));\n  }, [employee, onLogout]);\n\n  useEffect(() => {\n    if (employee) {\n      fetchInitialData();\n    }\n  }, [employee, fetchInitialData]);\n\n  useEffect(() => {\n    if (employee && activeTab === \"timeline\") {\n      fetchTimelineData();\n    }\n  }, [employee, activeTab, fetchTimelineData]);\n\n  const handleTabClick = (tabId) => {\n    setActiveTab(tabId);\n    setIsMoreMenuOpen(false);\n  };\n\n  const handleTicketClick = (ticketId) => {\n    if (ticketId) {\n      setSelectedTicketId(ticketId);\n      setIsJiraModalOpen(true);\n    }\n  };\n\n  if (!permissions.includes(\"profile:read:own\")) {\n    return <AccessDeniedPage />;\n  }\n  if (!employee) {\n    return <WelcomePage user={user} />;\n  }\n\n  const TabButton = ({ id, label, shortLabel, icon }) => (\n    <button\n      onClick={() => handleTabClick(id)}\n      className={`flex-shrink-0 flex items-center gap-2 py-3 px-4 border-b-2 font-semibold text-sm transition-colors whitespace-nowrap ${\n        activeTab === id\n          ? \"border-kredivo-primary text-kredivo-primary\"\n          : \"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n      }`}\n    >\n      {icon} {isDesktop ? label : shortLabel || label}\n    </button>\n  );\n\n  const TabContent = (\n    <div className=\"mt-6\">\n      {activeTab === \"details\" && (\n        <EmployeeDetailsTab\n          employee={employee}\n          permissions={permissions}\n          onTicketClick={handleTicketClick}\n        />\n      )}\n      {activeTab === \"devices\" && <DevicesTab employeeId={employee.id} />}\n      {activeTab === \"platforms\" && (\n        <EmployeeApplicationsTab\n          applications={employee.applications || []}\n          platformStatuses={platformStatuses}\n          isLoading={isLoadingPlatforms}\n          onTicketClick={handleTicketClick}\n        />\n      )}\n      {activeTab === \"platform-logs\" && (\n        <PlatformLogPage employeeId={employee.id} onLogout={onLogout} />\n      )}\n      {activeTab === \"timeline\" && (\n        <UnifiedTimelinePage\n          events={tabData.timeline.data}\n          loading={tabData.timeline.loading}\n          error={tabData.timeline.error}\n        />\n      )}\n    </div>\n  );\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 flex flex-col md:flex-row justify-between md:items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              My Profile\n            </h1>\n            <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400\">\n              This is your personal employee record and application access list.\n            </p>\n          </div>\n          <Button\n            onClick={() => setIsChangePasswordModalOpen(true)}\n            variant=\"secondary\"\n            className=\"mt-4 md:mt-0\"\n          >\n            <KeyRound className=\"w-4 h-4 mr-2\" /> Change Password\n          </Button>\n        </div>\n        <div className=\"p-4 sm:p-6 space-y-6\">\n          <EmployeeDetailHeader\n            employee={employee}\n            onEdit={onEdit}\n            onDeactivate={onDeactivate}\n            permissions={permissions}\n            isOwnProfile={true}\n          />\n          <div className=\"border-b border-gray-200 dark:border-gray-700\">\n            <div className=\"flex justify-between items-center\">\n              <nav\n                className=\"-mb-px flex items-center overflow-x-auto\"\n                aria-label=\"Tabs\"\n              >\n                {visibleTabs.map((tab) => (\n                  <TabButton key={tab.id} {...tab} />\n                ))}\n              </nav>\n              {overflowTabs.length > 0 && (\n                <div ref={moreMenuRef} className=\"relative ml-auto pl-2\">\n                  <button\n                    onClick={() => setIsMoreMenuOpen((prev) => !prev)}\n                    className={`flex-shrink-0 flex items-center gap-2 py-3 px-4 border-b-2 font-semibold text-sm transition-colors whitespace-nowrap ${\n                      isActiveTabInMoreMenu\n                        ? \"border-kredivo-primary text-kredivo-primary\"\n                        : \"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n                    }`}\n                  >\n                    <MoreVertical size={16} /> More\n                  </button>\n                  <AnimatePresence>\n                    {isMoreMenuOpen && (\n                      <motion.div\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -10 }}\n                        className=\"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-10\"\n                      >\n                        <div className=\"py-1\">\n                          {overflowTabs.map((tab) => (\n                            <button\n                              key={tab.id}\n                              onClick={() => handleTabClick(tab.id)}\n                              className={`w-full text-left flex items-center gap-3 px-4 py-2 text-sm ${\n                                activeTab === tab.id\n                                  ? \"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white\"\n                                  : \"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                              }`}\n                            >\n                              {tab.icon} {tab.shortLabel || tab.label}\n                            </button>\n                          ))}\n                        </div>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n                </div>\n              )}\n            </div>\n          </div>\n          {TabContent}\n        </div>\n      </div>\n      {isJiraModalOpen && (\n        <JiraTicketModal\n          ticketId={selectedTicketId}\n          onClose={() => setIsJiraModalOpen(false)}\n        />\n      )}\n      {isChangePasswordModalOpen && (\n        <ChangePasswordModal\n          onClose={() => setIsChangePasswordModalOpen(false)}\n        />\n      )}\n    </motion.div>\n  );\n};\n"],"names":["WelcomePage","_ref","user","_jsx","className","children","_jsxs","User","name","ChangePasswordModal","onClose","formData","setFormData","useState","oldPassword","newPassword","confirmPassword","error","setError","isSubmitting","setIsSubmitting","handleChange","e","value","target","prev","_objectSpread","AnimatePresence","motion","div","initial","opacity","animate","exit","scale","transition","duration","onSubmit","async","preventDefault","api","post","toast","success","err","_err$response","_err$response$data","response","data","message","htmlFor","type","id","required","onChange","map","req","Button","onClick","disabled","variant","ProfilePage","employee","permissions","onEdit","onDeactivate","onLogout","activeTab","setActiveTab","platformStatuses","setPlatformStatuses","isLoadingPlatforms","setIsLoadingPlatforms","isChangePasswordModalOpen","setIsChangePasswordModalOpen","tabData","setTabData","timeline","loading","fetched","isJiraModalOpen","setIsJiraModalOpen","selectedTicketId","setSelectedTicketId","isMoreMenuOpen","setIsMoreMenuOpen","moreMenuRef","useRef","isDesktop","useMediaQuery","allTabs","label","icon","UserSquare","size","permission","Laptop","shortLabel","LayoutGrid","HardDrive","includes","Bot","filter","tab","visibleTabs","slice","overflowTabs","isActiveTabInMoreMenu","some","useEffect","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","fetchTimelineData","useCallback","force","arguments","length","undefined","token","localStorage","getItem","url","concat","process","fetch","headers","Authorization","then","res","ok","json","Promise","reject","catch","fetchInitialData","statusData","console","finally","handleTabClick","tabId","handleTicketClick","ticketId","AccessDeniedPage","TabButton","_ref2","TabContent","EmployeeDetailsTab","onTicketClick","DevicesTab","employeeId","EmployeeApplicationsTab","applications","isLoading","PlatformLogPage","UnifiedTimelinePage","events","y","KeyRound","EmployeeDetailHeader","isOwnProfile","ref","MoreVertical","JiraTicketModal"],"sourceRoot":""}