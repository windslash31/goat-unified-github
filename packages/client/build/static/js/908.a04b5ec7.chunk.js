"use strict";(self.webpackChunkemployee_access_dashboard=self.webpackChunkemployee_access_dashboard||[]).push([[908],{994:(e,a,s)=>{s.d(a,{n:()=>d});var t=s(2176),r=s(812);const l=e=>{let{title:a,description:s,date:t}=e;return(0,r.jsxs)("div",{className:"group relative py-6 pl-8 sm:pl-32",children:[(0,r.jsxs)("div",{className:"mb-1 flex flex-col items-start before:absolute before:left-2 before:h-full before:-translate-x-1/2 before:translate-y-3 before:self-start before:bg-slate-300 dark:before:bg-gray-700 before:px-px group-last:before:hidden sm:flex-row sm:before:left-0 sm:before:ml-[6.5rem] sm:after:left-0 sm:after:ml-[6.5rem] after:absolute after:left-2 after:box-content after:h-2 after:w-2 after:-translate-x-1/2 after:translate-y-1.5 after:rounded-full after:border-4 after:border-white dark:after:border-gray-800 after:bg-kredivo-primary",children:[(0,r.jsx)("time",{className:"left-0 mb-3 inline-flex h-6 w-28 translate-y-0.5 items-center justify-center rounded-full bg-kredivo-light text-xs font-semibold uppercase text-kredivo-dark-text sm:absolute sm:mb-0",children:t}),(0,r.jsx)("div",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a})]}),(0,r.jsx)("div",{className:"text-slate-500 dark:text-gray-400",children:s})]})},i=t.memo(l),d=e=>{let{events:a,loading:s,error:t}=e;if(s)return(0,r.jsx)("div",{className:"text-center p-8",children:"Loading unified timeline..."});if(t)return(0,r.jsxs)("div",{className:"text-center p-8 text-red-500",children:["Error: ",t]});if(!a||0===a.length)return(0,r.jsx)("div",{className:"text-center p-8 text-gray-500",children:"No unified activity found for this user."});return(0,r.jsx)("div",{className:"flow-root",children:a.map(e=>{return(0,r.jsx)(i,{title:"Access Granted: ".concat(e.source),description:e.description,date:(a=e.timestamp,a?new Date(a).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}):"")},e.id);var a})})}},1259:(e,a,s)=>{s.d(a,{v:()=>C});var t=s(2176),r=s(3985),l=s(9889),i=s(7993),d=s(3170),n=s(4050),c=s(4971),o=s(2304),m=s(4079),x=s(8146),g=s(2773),h=s(7561),u=s(7095),y=s(6071),j=s(4189),p=s(2536),b=s(9869),v=s(648),f=s(1356),N=s(812);const k=e=>{let{label:a,value:s,icon:t,isMono:r=!1}=e;return(0,N.jsxs)("div",{className:"flex items-start py-2.5 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[(0,N.jsxs)("dt",{className:"w-1/3 text-gray-500 dark:text-gray-400 flex-shrink-0 flex items-center gap-2",children:[t,(0,N.jsx)("span",{className:"font-medium",children:a})]}),(0,N.jsx)("dd",{className:"w-2/3 text-gray-800 dark:text-gray-200 text-right break-words ".concat(r?"font-mono text-xs":""),children:s})]})},w=e=>{let{children:a}=e;return(0,N.jsx)("h4",{className:"text-md font-semibold text-gray-600 dark:text-gray-300 pt-4 pb-1 border-b-2 border-kredivo-primary/50",children:a})},_=e=>{var a,s;let{device:t,onClose:r}=e;if(!t)return null;const l=e=>e?(0,N.jsxs)("span",{className:"flex items-center justify-end gap-1 text-green-600 dark:text-green-400",children:[(0,N.jsx)(c.A,{size:14})," Enabled"]}):(0,N.jsxs)("span",{className:"flex items-center justify-end gap-1 text-red-600 dark:text-red-400",children:[(0,N.jsx)(o.A,{size:14})," Disabled"]}),i=(null===(a=t.networkInterfaces)||void 0===a?void 0:a.filter(e=>e.address&&/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/.test(e.address)&&!e.address.startsWith("127.")))||[];return(0,N.jsx)(m.N,{children:(0,N.jsx)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",onClick:r,children:(0,N.jsxs)(x.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,N.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold",children:t.displayName||t.hostname}),(0,N.jsx)(f.$,{onClick:r,variant:"secondary",className:"p-1 h-auto",children:(0,N.jsx)(g.A,{size:20})})]}),(0,N.jsxs)("div",{className:"p-6 overflow-y-auto space-y-2",children:[(0,N.jsx)(w,{children:"System Information"}),(0,N.jsx)(k,{icon:(0,N.jsx)(h.A,{size:14}),label:"Hostname",value:t.hostname}),(0,N.jsx)(k,{icon:(0,N.jsx)(u.A,{size:14}),label:"Operating System",value:"".concat(t.os," ").concat(t.version)}),(0,N.jsx)(k,{icon:(0,N.jsx)(y.A,{size:14}),label:"Architecture",value:t.arch}),(0,N.jsx)(k,{icon:(0,N.jsx)(j.A,{size:14}),label:"Serial Number",value:t.serialNumber,isMono:!0}),(0,N.jsx)(k,{icon:(0,N.jsx)(h.A,{size:14}),label:"Agent Version",value:t.agentVersion}),(0,N.jsx)(k,{icon:(0,N.jsx)(h.A,{size:14}),label:"Last Contact",value:new Date(t.lastContact).toLocaleString()}),(0,N.jsx)(w,{children:"Security"}),(0,N.jsx)(k,{icon:(0,N.jsx)(p.A,{size:14}),label:"Multi-Factor Auth",value:l(t.allowMultiFactorAuthentication)}),(0,N.jsx)(k,{icon:(0,N.jsx)(b.A,{size:14}),label:"Disk Encryption",value:l(null===(s=t.fde)||void 0===s?void 0:s.active)}),(0,N.jsx)(k,{icon:(0,N.jsx)(c.A,{size:14}),label:"Has Service Account",value:l(t.hasServiceAccount)}),(0,N.jsx)(w,{children:"Network"}),i.length>0?i.map(e=>(0,N.jsx)(k,{icon:(0,N.jsx)(v.A,{size:14}),label:e.name,value:e.address,isMono:!0},e.name)):(0,N.jsx)("p",{className:"text-sm text-gray-500 py-2",children:"No valid IPv4 addresses found."})]}),(0,N.jsx)("div",{className:"px-6 py-3 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-600 text-right",children:(0,N.jsx)(f.$,{onClick:r,variant:"secondary",children:"Close"})})]})})})},A=()=>(0,N.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 animate-pulse",children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4",children:[(0,N.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-32 mb-2"}),(0,N.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-24"})]})]}),(0,N.jsx)("div",{className:"h-5 bg-gray-300 dark:bg-gray-700 rounded-full w-16"})]}),(0,N.jsx)("div",{className:"mt-4 pt-2 border-t border-gray-100 dark:border-gray-700",children:(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-20"}),(0,N.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-28"})]})})]}),S=e=>{let{device:a,onClick:s}=e;return(0,N.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-md transition-shadow",onClick:s,children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4",children:[(t=a.os,t.toLowerCase().includes("windows")?(0,N.jsx)(i.A,{className:"w-8 h-8 text-blue-500"}):t.toLowerCase().includes("mac")?(0,N.jsx)(i.A,{className:"w-8 h-8 text-gray-500"}):t.toLowerCase().includes("linux")?(0,N.jsx)(d.A,{className:"w-8 h-8 text-yellow-500"}):(0,N.jsx)(n.A,{className:"w-8 h-8 text-green-500"})),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-bold text-gray-900 dark:text-white",children:a.hostname||"N/A"}),(0,N.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.os})]})]}),a.active?(0,N.jsxs)("span",{className:"flex items-center text-xs gap-1 text-green-600",children:[(0,N.jsx)(c.A,{size:14})," Active"]}):(0,N.jsxs)("span",{className:"flex items-center text-xs gap-1 text-red-600",children:[(0,N.jsx)(o.A,{size:14})," Inactive"]})]}),(0,N.jsx)("div",{className:"mt-4 pt-2 border-t border-gray-100 dark:border-gray-700 text-sm",children:(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-500",children:"Last Contact:"}),(0,N.jsx)("span",{children:new Date(a.lastContact).toLocaleString()})]})})]});var t},C=e=>{let{employeeId:a}=e;const[s,i]=(0,t.useState)(null),{data:d,isLoading:n,error:c}=(0,r.I)({queryKey:["employeeDevices",a],queryFn:()=>(async e=>{const{data:a}=await l.A.get("/api/employees/".concat(e,"/devices"));return a})(a)});return n?(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,N.jsx)(A,{}),(0,N.jsx)(A,{}),(0,N.jsx)(A,{})]}):c?(0,N.jsx)("div",{className:"text-center p-6 text-red-500",children:"Could not fetch device details."}):d&&0!==d.length?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>(0,N.jsx)(S,{device:e,onClick:()=>i(e)},e.id))}),(0,N.jsx)(_,{device:s,onClose:()=>i(null)})]}):(0,N.jsx)("div",{className:"text-center p-6 text-gray-500",children:"No devices found for this employee."})}},1811:(e,a,s)=>{s.d(a,{W:()=>i});var t=s(2176),r=s(812);const l=e=>{let{status:a}=e;return(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((()=>{switch(a){case"Active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"Inactive":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"For Escalation":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}})()),children:a})},i=t.memo(l)},3442:(e,a,s)=>{s.d(a,{z:()=>c});var t=s(2176),r=s(4781);const l={"Google Workspace":{logo:"https://static.wikia.nocookie.net/logopedia/images/c/c1/Google_Apps_for_Work_icon.png/"},Slack:{logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Slack_icon_2019.svg/2048px-Slack_icon_2019.svg.png"},JumpCloud:{logo:"https://icon2.cleanpng.com/20181123/fw/kisspng-reading-education-organization-jumpcloud-kindergar-5bf85b3d3c6ca7.1295031515430029412475.jpg"},Atlassian:{logo:"https://wac-cdn.atlassian.com/assets/img/favicons/atlassian/favicon-32x32.png"},Default:{logo:""}};var i=s(812);const d=e=>{let{status:a}=e;const s={Active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",Suspended:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300","Not Found":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Error:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"};return(0,i.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full whitespace-nowrap ".concat(s[a]||s.Error),children:a})},n=()=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-900/50 animate-pulse",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-md bg-gray-300 dark:bg-gray-700"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-24"}),(0,i.jsx)("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-32 mt-1"})]})]}),(0,i.jsx)("div",{className:"h-6 bg-gray-300 dark:bg-gray-700 rounded-full w-20"})]}),c=(0,t.memo)(e=>{let{applications:a,platformStatuses:s,isLoading:t,onTicketClick:c}=e;return(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Platform Access Status"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Live status of the employee's account on integrated external platforms."}),(0,i.jsx)("div",{className:"space-y-4",children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{}),(0,i.jsx)(n,{}),(0,i.jsx)(n,{})]}):s.map(e=>{var a;return(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-900/50",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,i.jsx)("img",{src:(null===(a=l[e.platform])||void 0===a?void 0:a.logo)||l.Default.logo,alt:"".concat(e.platform," Logo"),className:"w-8 h-8"}),(0,i.jsxs)("div",{className:"min-w-0",children:[(0,i.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate",children:e.platform}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email||"N/A"})]})]}),(0,i.jsx)(d,{status:e.status})]},e.platform)})})]}),(0,i.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Internal Application Access"}),a&&0!==a.length?(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(e=>(0,i.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-700/50",children:[(0,i.jsx)("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.name}),(0,i.jsxs)("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,i.jsx)("span",{className:"font-medium",children:"Role:"})," ",e.role]}),(0,i.jsxs)("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[(0,i.jsx)("span",{className:"font-medium",children:"Request:"}),e.jira_ticket?(0,i.jsxs)("button",{onClick:()=>c(e.jira_ticket),className:"text-kredivo-primary hover:underline font-semibold flex items-center gap-1",children:[(0,i.jsx)(r.A,{className:"w-4 h-4"}),e.jira_ticket]}):"\u2014"]})]},e.name))}):(0,i.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No internal application access records found."})]})]})})},5798:(e,a,s)=>{s.d(a,{U:()=>r});var t=s(2176);const r=e=>{const[a,s]=(0,t.useState)(window.matchMedia(e).matches);return(0,t.useEffect)(()=>{const a=window.matchMedia(e),t=()=>s(a.matches);return a.addEventListener("change",t),()=>a.removeEventListener("change",t)},[e]),a}},7419:(e,a,s)=>{s.d(a,{S:()=>p});var t=s(2176),r=s(3985),l=s(4310),i=s(2773),d=s(4906),n=s(1500),c=s(3778),o=s(4871),m=s(6591),x=s(6158),g=s(1356),h=s(4079),u=s(8146),y=s(812);const j=e=>{let{icon:a,label:s,value:t}=e;return(0,y.jsxs)("div",{className:"flex items-center text-sm",children:[(0,y.jsxs)("div",{className:"w-1/3 text-gray-500 dark:text-gray-400 flex items-center",children:[a,(0,y.jsx)("span",{className:"ml-2",children:s})]}),(0,y.jsx)("div",{className:"w-2/3 text-gray-800 dark:text-gray-200 font-medium",children:t})]})},p=e=>{let{ticketId:a,onClose:s}=e;const p=localStorage.getItem("accessToken"),{data:b,error:v,isLoading:f}=(0,r.I)({queryKey:["jiraTicket",a],queryFn:()=>(async(e,a)=>{if(!e||!a)return null;const s=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL,"/api/jira/ticket/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to fetch Jira ticket details.")}return s.json()})(a,p),enabled:!!a&&!!p});(0,t.useEffect)(()=>{v&&x.Ay.error(v.message)},[v]);const N={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_JIRA_BASE_URL||"https://".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ATLASSIAN_DOMAIN,"/browse/");return(0,y.jsx)(l.Z,{children:(0,y.jsx)(h.N,{children:a&&(0,y.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",onClick:s,children:(0,y.jsxs)(u.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold",children:["Jira Ticket: ",a]}),(0,y.jsx)("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:(0,y.jsx)(i.A,{className:"w-5 h-5"})})]}),(0,y.jsxs)("div",{className:"p-6",children:[f&&(0,y.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,y.jsx)(d.A,{className:"w-8 h-8 animate-spin text-kredivo-primary"})}),v&&(0,y.jsxs)("div",{className:"text-center h-48 flex flex-col justify-center items-center text-red-500",children:[(0,y.jsx)("p",{className:"font-semibold",children:"Could not load ticket details."}),(0,y.jsx)("p",{className:"text-sm",children:v.message})]}),b&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b.summary}),(0,y.jsxs)("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,y.jsx)(j,{icon:(0,y.jsx)(n.A,{size:16}),label:"Status",value:b.status}),(0,y.jsx)(j,{icon:(0,y.jsx)(c.A,{size:16}),label:"Assignee",value:b.assignee}),(0,y.jsx)(j,{icon:(0,y.jsx)(c.A,{size:16}),label:"Reporter",value:b.reporter}),(0,y.jsx)(j,{icon:(0,y.jsx)(o.A,{size:16}),label:"Created",value:new Date(b.created).toLocaleString()})]})]})]}),(0,y.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-3 flex justify-end",children:(0,y.jsx)("a",{href:"".concat(N).concat(a),target:"_blank",rel:"noopener noreferrer",children:(0,y.jsxs)(g.$,{variant:"primary",children:[(0,y.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Open in Jira"]})})})]})})})})}},7507:(e,a,s)=>{s.d(a,{v:()=>O});var t=s(1882),r=s(2176),l=s(8079),i=s(803),d=s(1356),n=s(7095),c=s(2707),o=s(6619),m=s(6539),x=s(3311),g=s(8087),h=s(4296),u=s(7689),y=s(2536),j=s(9999),p=s(6185),b=s(3170),v=s(812);const f=e=>{let{success:a}=e;const s=a;return(0,v.jsx)("span",{className:"".concat("px-2.5 py-0.5 text-xs font-semibold rounded-full"," ").concat(s?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"),children:s?"Success":"Failed"})},N=e=>{let{label:a,children:s,isMono:t=!1}=e;return(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-2.5 px-1",children:[(0,v.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex-shrink-0",children:a}),(0,v.jsx)("dd",{className:"text-sm text-gray-800 dark:text-gray-200 text-left sm:text-right mt-1 sm:mt-0 break-words ".concat(t?"font-mono text-xs":""),children:s||"N/A"})]})},k=e=>{let{children:a}=e;return(0,v.jsx)("h5",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mt-3 mb-1 px-1 first:mt-0",children:a})},w=(0,r.memo)(e=>{let{logs:a,loading:s,error:t}=e;const[l,i]=(0,r.useState)(null),d=(e,a)=>{const s="w-6 h-6 flex-shrink-0";switch(e){case"login_attempt":return a?(0,v.jsx)(n.A,{className:"".concat(s," text-green-500")}):(0,v.jsx)(n.A,{className:"".concat(s," text-red-500")});case"sso_auth":return(0,v.jsx)(c.A,{className:"".concat(s," text-blue-500")});case"user_create":return(0,v.jsx)(o.A,{className:"".concat(s," text-green-500")});case"user_delete":return(0,v.jsx)(m.A,{className:"".concat(s," text-red-500")});case"password_change":return(0,v.jsx)(x.A,{className:"".concat(s," text-yellow-500")});case"directory_object_modify":return(0,v.jsx)(g.A,{className:"".concat(s," text-orange-500")});case"ldap_bind":return(0,v.jsx)(h.A,{className:"".concat(s," text-indigo-500")});case"user_login_attempt":return(0,v.jsx)(u.A,{className:"".concat(s," text-cyan-500")});case"passwordmanager_backup_create":return(0,v.jsx)(g.A,{className:"".concat(s," text-purple-500")});default:return(0,v.jsx)(y.A,{className:"".concat(s," text-gray-400")})}},w=e=>{var a,s;switch(e.event_type){case"sso_auth":return"Authenticated to ".concat((null===(a=e.application)||void 0===a?void 0:a.display_label)||"an application");case"login_attempt":return"Login to ".concat((null===(s=e.system)||void 0===s?void 0:s.displayName)||"system");case"ldap_bind":return"LDAP Bind attempt via ".concat(e.auth_method);default:return e.event_type.replace(/_/g," ")}};return(0,v.jsxs)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[s&&(0,v.jsx)("div",{className:"text-center p-8",children:"Loading JumpCloud logs..."}),t&&(0,v.jsxs)("div",{className:"text-center p-8 text-red-500",children:["Error: ",t]}),!s&&!t&&(!a||0===a.length)&&(0,v.jsx)("div",{className:"text-center p-8",children:"No JumpCloud logs found for the selected criteria."}),!s&&!t&&a&&a.map(e=>{var a,s,t,r;const n=l===e.id,c=e.auth_context&&Object.keys(e.auth_context).length>0,o="sso_auth"===e.event_type?e.sso_token_success:e.success;return(0,v.jsxs)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[(0,v.jsx)("button",{onClick:()=>{return a=e.id,void i(e=>e===a?null:a);var a},className:"w-full text-left",children:(0,v.jsxs)("div",{className:"flex items-start gap-4",children:[(0,v.jsx)("div",{className:"mt-1 flex-shrink-0",children:d(e.event_type,o)}),(0,v.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,v.jsxs)("div",{className:"flex justify-between items-start",children:[(0,v.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200 capitalize pr-4",children:w(e)}),(0,v.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-2",children:[(0,v.jsx)(f,{success:o}),(0,v.jsx)(j.A,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(n?"rotate-180":"")})]})]}),(0,v.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:new Date(e.timestamp).toLocaleString()}),(0,v.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mt-2",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,v.jsx)(p.A,{size:14})," ",(null===(a=e.geoip)||void 0===a?void 0:a.country_code)||"N/A"]}),(0,v.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,v.jsx)(b.A,{size:14})," ",e.client_ip||"N/A"]})]})]})]})}),n&&(0,v.jsx)("div",{className:"pt-3",children:(0,v.jsx)("div",{className:"p-3 bg-gray-100 dark:bg-gray-900/70 rounded-lg shadow-inner",children:(0,v.jsxs)("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(0,v.jsx)(k,{children:"Event"}),(0,v.jsx)(N,{label:"Event Type",isMono:!0,children:e.event_type}),(0,v.jsx)(N,{label:"Service",children:e.service}),e.message&&(0,v.jsx)(N,{label:"Message",children:e.message}),e.application&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{children:"Application"}),(0,v.jsx)(N,{label:"Name",children:e.application.display_label}),(0,v.jsx)(N,{label:"SSO Type",children:e.application.sso_type}),(0,v.jsx)(N,{label:"ID",isMono:!0,children:e.application.id})]}),c&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{children:"Authentication"}),(0,v.jsx)(N,{label:"MFA Method",children:(null===(s=e.mfa_meta)||void 0===s||null===(t=s.type)||void 0===t?void 0:t.replace(/_/g," "))||"Not Applied"}),(0,v.jsx)(N,{label:"IDP Initiated",children:e.idp_initiated?"Yes":"No"})]}),e.geoip&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{children:"Location"}),(0,v.jsx)(N,{label:"Timezone",children:e.geoip.timezone}),(0,v.jsxs)(N,{label:"Coordinates",children:[e.geoip.latitude,", ",e.geoip.longitude]})]}),e.useragent&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{children:"Device"}),(0,v.jsx)(N,{label:"OS",children:e.useragent.os_full}),(0,v.jsxs)(N,{label:"Browser",children:[e.useragent.name," ",e.useragent.version]}),(0,v.jsx)(N,{label:"Device Type",children:e.useragent.device})]}),(null===(r=e.auth_context)||void 0===r?void 0:r.system)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{children:"System"}),(0,v.jsx)(N,{label:"Hostname",children:e.auth_context.system.hostname}),(0,v.jsxs)(N,{label:"OS",children:[e.auth_context.system.os," ",e.auth_context.system.version]})]})]})})})]},e.id)})]})}),_=e=>{let{logs:a,loading:s,error:t}=e;return s?(0,v.jsx)("div",{className:"text-center p-8",children:"Loading Google Workspace logs..."}):t?(0,v.jsxs)("div",{className:"text-center p-8 text-red-500",children:["Error: ",t]}):a&&0!==a.length?(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(e=>{return(0,v.jsxs)("div",{className:"flex flex-col md:flex-row p-4 items-start md:items-center space-y-2 md:space-y-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-1/3",children:[(a=e.events[0].name,a.includes("login_success")?(0,v.jsx)(y.A,{className:"w-5 h-5 text-green-500"}):a.includes("login_failure")?(0,v.jsx)(y.A,{className:"w-5 h-5 text-red-500"}):(0,v.jsx)(y.A,{className:"w-5 h-5 text-gray-400"})),(0,v.jsx)("span",{className:"font-semibold capitalize",children:e.events[0].name.replace(/_/g," ")})]}),(0,v.jsx)("div",{className:"flex-1 text-sm text-gray-600 dark:text-gray-400",children:(0,v.jsxs)("p",{className:"flex items-center gap-2",children:[(0,v.jsx)(b.A,{className:"w-4 h-4"})," IP Address: ",e.ipAddress||"N/A"]})}),(0,v.jsx)("div",{className:"w-full md:w-auto text-left md:text-right text-sm text-gray-500 dark:text-gray-300",children:new Date(e.id.time).toLocaleString()})]},e.id.uniqueQualifier);var a})}):(0,v.jsx)("div",{className:"text-center p-8 text-gray-500",children:"No Google Workspace login logs found for this user in the last 30 days."})};var A=s(6359),S=s(8326),C=s(4775),E=s(6956);const T=e=>{let{logs:a,loading:s,error:t}=e;return s?(0,v.jsx)("div",{className:"text-center p-8",children:"Loading Slack logs..."}):t?(0,v.jsxs)("div",{className:"text-center p-8 text-red-500",children:["Error: ",t]}):a&&0!==a.length?(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(e=>{var a,s;return(0,v.jsxs)("div",{className:"flex flex-col md:flex-row p-4 items-start md:items-center space-y-2 md:space-y-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-1/3",children:[(s=e.action,s.includes("login")?(0,v.jsx)(A.A,{className:"w-5 h-5 text-green-500"}):s.includes("logout")?(0,v.jsx)(S.A,{className:"w-5 h-5 text-red-500"}):s.includes("file")?(0,v.jsx)(C.A,{className:"w-5 h-5 text-blue-500"}):(0,v.jsx)(E.A,{className:"w-5 h-5 text-gray-400"})),(0,v.jsx)("span",{className:"font-semibold capitalize",children:e.action.replace(/_/g," ")})]}),(0,v.jsx)("div",{className:"flex-1 text-sm text-gray-600 dark:text-gray-400",children:(0,v.jsxs)("p",{children:["Entity: ",(null===(a=e.entity.channel)||void 0===a?void 0:a.name)||""]})}),(0,v.jsx)("div",{className:"w-full md:w-auto text-left md:text-right text-sm text-gray-500 dark:text-gray-300",children:new Date(1e3*e.date_create).toLocaleString()})]},e.id)})}):(0,v.jsx)("div",{className:"text-center p-8 text-gray-500",children:"No Slack audit logs found for this user (Note: Requires Enterprise Grid plan)."})},D=[{id:"jumpcloud",name:"JumpCloud"},{id:"google",name:"Google Workspace"},{id:"slack",name:"Slack"}],L=[{id:"all",name:"All"},{id:"access_management",name:"Access Management"},{id:"alert",name:"Alert"},{id:"directory",name:"Directory"},{id:"ldap",name:"LDAP"},{id:"mdm",name:"MDM"},{id:"notifications",name:"Notifications"},{id:"password_manager",name:"Password Manager"},{id:"object_storage",name:"Object Storage"},{id:"radius",name:"RADIUS"},{id:"reports",name:"Reports"},{id:"software",name:"Software"},{id:"sso",name:"SSO"},{id:"systems",name:"Systems"}],O=e=>{var a;let{employeeId:s,onLogout:n}=e;const[c,o]=(0,r.useState)("jumpcloud"),[m,x]=(0,r.useState)({data:[],loading:!1,error:null,fetched:!1}),[g,h]=(0,r.useState)({startTime:new Date(Date.now()-2592e6).toISOString().split("T")[0],endTime:(new Date).toISOString().split("T")[0],limit:100,service:"all"}),u=(0,r.useCallback)(async()=>{if(!s)return;x({data:[],loading:!0,error:null,fetched:!1});const e=localStorage.getItem("accessToken");if(!e)return void n();let a;const t="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL,"/api/employees/").concat(s);switch(c){case"jumpcloud":const e=new URLSearchParams({startTime:g.startTime,endTime:g.endTime,limit:g.limit,service:g.service});a="".concat(t,"/jumpcloud-logs?").concat(e.toString());break;case"google":a="".concat(t,"/google-logs");break;case"slack":a="".concat(t,"/slack-logs");break;default:return void x({data:[],loading:!1,error:"Invalid platform selected",fetched:!0})}try{const s=await fetch(a,{headers:{Authorization:"Bearer ".concat(e)}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to fetch logs")}const t=await s.json();x({data:t,loading:!1,error:null,fetched:!0})}catch(r){x({data:[],loading:!1,error:r.message,fetched:!0})}},[s,c,g,n]),y=e=>{h(a=>(0,t.A)((0,t.A)({},a),{},{[e.target.name]:e.target.value}))},j=(e,a)=>{h(s=>(0,t.A)((0,t.A)({},s),{},{[e]:a}))},p=(0,r.useMemo)(()=>{switch(c){case"jumpcloud":return(0,v.jsx)(w,{logs:m.data,loading:m.loading,error:m.error});case"google":return(0,v.jsx)(_,{logs:m.data,loading:m.loading,error:m.error});case"slack":return(0,v.jsx)(T,{logs:m.data,loading:m.loading,error:m.error});default:return(0,v.jsx)("div",{className:"p-8 text-center",children:"Please select a platform to view logs."})}},[c,m]),b=(new Date).toISOString().split("T")[0],f=new Date(Date.now()-7776e6).toISOString().split("T")[0];return(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Platform"}),(0,v.jsx)(i.A,{id:"platform",options:D,value:c,onChange:o})]}),"jumpcloud"===c&&(0,v.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-md",children:[(0,v.jsxs)("h4",{className:"font-semibold text-md mb-2 flex items-center gap-2",children:[(0,v.jsx)(l.A,{size:16})," JumpCloud Filters"]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Service"}),(0,v.jsx)(i.A,{id:"service",options:L,value:g.service,onChange:e=>j("service",e)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"limit",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limit"}),(0,v.jsx)(i.A,{id:"limit",options:[{id:10,name:"10"},{id:100,name:"100"},{id:500,name:"500"},{id:1e3,name:"1000"}],value:g.limit,onChange:e=>j("limit",e)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start Date"}),(0,v.jsx)("input",{type:"date",name:"startTime",id:"startTime",value:g.startTime,min:f,max:b,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-2 focus:ring-kredivo-primary"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"End Date"}),(0,v.jsx)("input",{type:"date",name:"endTime",id:"endTime",value:g.endTime,min:g.startTime,max:b,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-2 focus:ring-kredivo-primary"})]})]})]}),(0,v.jsx)(d.$,{onClick:u,disabled:m.loading,className:"w-full md:w-auto justify-center",children:m.loading?"Fetching...":"Fetch ".concat(null===(a=D.find(e=>e.id===c))||void 0===a?void 0:a.name," Logs")})]}),(0,v.jsx)("div",{className:"p-4",children:p})]})}},8596:(e,a,s)=>{s.d(a,{g:()=>p});var t=s(2176),r=s(5204),l=s(4781),i=s(624),d=s(3328),n=s(5851),c=s(4487),o=s(8766),m=s(6185),x=s(4189),g=s(4871),h=s(812);const u=e=>{let{icon:a,label:s,value:t}=e;return(0,h.jsxs)("div",{className:"flex items-start justify-between py-2.5 text-sm border-b border-gray-200 dark:border-gray-700/50 last:border-b-0",children:[(0,h.jsxs)("span",{className:"flex items-center text-gray-600 dark:text-gray-400 font-medium",children:[a,s]}),(0,h.jsx)("div",{className:"text-gray-800 dark:text-gray-200 text-right",children:t||"\u2014"})]})},y=t.memo(u);var j=s(1811);const p=(0,t.memo)(e=>{let{employee:a,permissions:s,navigate:t,onTicketClick:u}=e;const p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"\u2014",b=e=>{let{ticketId:a}=e;return a?(0,h.jsxs)("button",{onClick:()=>u(a),className:"text-kredivo-primary hover:text-kredivo-primary-hover hover:underline font-mono flex items-center gap-1 text-right",children:[(0,h.jsx)(l.A,{className:"w-4 h-4"}),a]}):"\u2014"},v=e=>{let{managerId:a,managerName:t,managerEmail:l}=e;return a?s.includes("employee:read:all")?(0,h.jsxs)(r.N_,{to:"/employees/".concat(a),className:"text-kredivo-primary hover:text-kredivo-primary-hover hover:underline text-right",children:[(0,h.jsx)("div",{children:t}),(0,h.jsx)("div",{className:"text-xs text-gray-400",children:l})]}):(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsx)("div",{children:t}),(0,h.jsx)("div",{className:"text-xs text-gray-400",children:l})]}):"\u2014"};return(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,h.jsx)("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Identity & Role"}),(0,h.jsx)(y,{icon:(0,h.jsx)(i.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Email",value:a.employee_email}),(0,h.jsx)(y,{icon:(0,h.jsx)(d.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Manager",value:(0,h.jsx)(v,{managerId:a.manager_id,managerName:a.manager_name,managerEmail:a.manager_email})}),(0,h.jsx)(y,{icon:(0,h.jsx)(n.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Position Level",value:a.position_level})]}),(0,h.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,h.jsx)("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Employment Details"}),(0,h.jsx)(y,{icon:(0,h.jsx)(c.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Employment Status",value:(0,h.jsx)(j.W,{status:a.status})}),(0,h.jsx)(y,{icon:(0,h.jsx)(o.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Legal Entity",value:a.legal_entity}),(0,h.jsx)(y,{icon:(0,h.jsx)(c.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Employee Type",value:a.employee_type&&a.employee_sub_type?"".concat(a.employee_type," (").concat(a.employee_sub_type,")"):a.employee_type||"\u2014"}),(0,h.jsx)(y,{icon:(0,h.jsx)(m.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Office Location",value:a.office_location}),(0,h.jsx)(y,{icon:(0,h.jsx)(x.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Asset",value:a.asset_name})]})]}),(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,h.jsx)("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Timeline"}),(0,h.jsx)(y,{icon:(0,h.jsx)(g.A,{className:"w-4 h-4 mr-2.5 text-green-500"}),label:"Join Date",value:p(a.join_date)}),(0,h.jsx)(y,{icon:(0,h.jsx)(g.A,{className:"w-4 h-4 mr-2.5 text-red-500"}),label:"Exit Date",value:p(a.date_of_exit_at_date)}),(0,h.jsx)(y,{icon:(0,h.jsx)(g.A,{className:"w-4 h-4 mr-2.5 text-red-500"}),label:"Access Cut-off",value:p(a.access_cut_off_date_at_date)}),(0,h.jsx)(y,{icon:(0,h.jsx)(g.A,{className:"w-4 h-4 mr-2.5 text-gray-400"}),label:"Record Updated",value:p(a.updated_at)})]}),(0,h.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,h.jsx)("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Related Tickets"}),(0,h.jsx)(y,{icon:(0,h.jsx)(l.A,{className:"w-4 h-4 mr-2.5 text-kredivo-primary"}),label:"Onboarding Ticket",value:(0,h.jsx)(b,{ticketId:a.onboarding_ticket})}),(0,h.jsx)(y,{icon:(0,h.jsx)(l.A,{className:"w-4 h-4 mr-2.5 text-kredivo-primary"}),label:"Offboarding Ticket",value:(0,h.jsx)(b,{ticketId:a.offboarding_ticket})})]})]})]})})},8898:(e,a,s)=>{s.d(a,{Z:()=>o});var t=s(2176),r=s(936),l=s(6539),i=s(2841),d=s(1811),n=s(1356),c=s(812);const o=e=>{let{employee:a,onEdit:s,onDeactivate:o,permissions:m,isOwnProfile:x}=e;const g=[a.first_name,a.middle_name,a.last_name].filter(Boolean).join(" "),[h,u]=(0,t.useState)(!1),y=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("img",{src:"https://i.pravatar.cc/150?u=".concat(a.employee_email),alt:"User Avatar",className:"w-16 h-16 rounded-full border-4 border-blue-200 dark:border-blue-800"}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g}),(0,c.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.employee_email}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)(d.W,{status:a.status})})]})]}),(0,c.jsxs)("div",{className:"hidden md:flex self-start items-center gap-2",children:[m.includes("employee:update")&&(0,c.jsxs)(n.$,{onClick:()=>s(a),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors",children:[(0,c.jsx)(r.A,{className:"w-4 h-4"})," Edit"]}),m.includes("employee:deactivate")&&!x&&(0,c.jsxs)("button",{onClick:()=>o(a),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-colors",children:[(0,c.jsx)(l.A,{className:"w-4 h-4"})," Suspend Access"]})]}),(0,c.jsxs)("div",{ref:y,className:"md:hidden relative",children:[(0,c.jsx)("button",{onClick:()=>u(!h),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,c.jsx)(i.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),h&&(0,c.jsx)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-30",children:(0,c.jsxs)("ul",{children:[m.includes("employee:update")&&(0,c.jsx)("li",{children:(0,c.jsxs)("button",{onClick:()=>{s(a),u(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,c.jsx)(r.A,{className:"w-4 h-4"})," Edit"]})}),m.includes("employee:deactivate")&&!x&&(0,c.jsx)("li",{children:(0,c.jsxs)("button",{onClick:()=>{o(a),u(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-500 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,c.jsx)(l.A,{className:"w-4 h-4"})," Suspend Access"]})})]})})]})]})}}}]);
//# sourceMappingURL=908.a04b5ec7.chunk.js.map