/*! For license information please see 123.8569e935.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkemployee_access_dashboard=self.webpackChunkemployee_access_dashboard||[]).push([[123],{4781:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(8119).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},5139:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(8119).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},6359:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(8119).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},6619:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(8119).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},9123:(e,s,a)=>{a.r(s),a.d(s,{DashboardPage:()=>C});a(2176);var l=a(3985),r=a(9889),t=a(8119);const d=(0,t.A)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),c=(0,t.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),i=(0,t.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var n=a(6359),o=a(8326),x=a(5139);const m=(0,t.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var g=a(5921),h=a(6619),y=a(414),p=a(4781),j=a(8146),b=a(812);const N=e=>{let{className:s}=e;return(0,b.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded ".concat(s," animate-pulse")})},u=()=>(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex items-center gap-4",children:[(0,b.jsx)(N,{className:"w-12 h-12 rounded-lg"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(N,{className:"h-4 w-3/4 mb-2"}),(0,b.jsx)(N,{className:"h-8 w-1/2"})]})]}),k=()=>(0,b.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,b.jsx)(N,{className:"h-8 w-48 mb-6"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,b.jsx)(u,{}),(0,b.jsx)(u,{}),(0,b.jsx)(u,{}),(0,b.jsx)(u,{})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)(N,{className:"h-6 w-1/3 mb-6"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(N,{className:"h-10 w-full"}),(0,b.jsx)(N,{className:"h-10 w-full"}),(0,b.jsx)(N,{className:"h-10 w-full"})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)(N,{className:"h-6 w-1/2 mb-6"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(N,{className:"h-8 w-full"}),(0,b.jsx)(N,{className:"h-8 w-full"}),(0,b.jsx)(N,{className:"h-8 w-full"})]})]})]})]}),v=async()=>{const{data:e}=await r.A.get("/api/dashboard");return e},w=e=>{let{title:s,value:a,icon:l,color:r}=e;return(0,b.jsxs)(j.P.div,{whileHover:{translateY:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex items-center gap-4 cursor-pointer",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg flex-shrink-0 flex items-center justify-center ".concat(r),children:l}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s}),(0,b.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:a})]})]})},f=e=>{let{data:s,title:a}=e;return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(d,{className:"w-5 h-5"})," ",a]}),(0,b.jsx)("div",{className:"space-y-4",children:s.map(e=>{const s=e.used/e.total*100;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm mb-1",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.name}),(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[e.used," / ",e.total]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:(0,b.jsx)(j.P.div,{className:"bg-kredivo-primary h-2.5 rounded-full",initial:{width:0},animate:{width:"".concat(s,"%")},transition:{duration:.5,ease:"easeOut"}})})]},e.name)})})]})},A=e=>{let{data:s,title:a}=e;return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(c,{className:"w-5 h-5"})," ",a]}),(0,b.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,b.jsxs)("li",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.name}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-md",children:e.count})]},e.name))})]})},_=e=>{let{forEscalationCount:s}=e;return(0,b.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)(i,{className:"h-5 w-5 text-yellow-500"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsxs)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:["You have ",(0,b.jsx)("span",{className:"font-bold",children:s})," ","employee(s) needing escalation."]})})]})})},M=e=>{let{log:s}=e;return(0,b.jsxs)("div",{className:"flex items-center gap-4 py-2",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:(a=s.action_type,a.includes("LOGIN")?(0,b.jsx)(n.A,{className:"w-5 h-5 text-green-500"}):a.includes("LOGOUT")?(0,b.jsx)(o.A,{className:"w-5 h-5 text-gray-500"}):a.includes("CREATE")?(0,b.jsx)(x.A,{className:"w-5 h-5 text-blue-500"}):(0,b.jsx)(m,{className:"w-5 h-5 text-gray-400"}))}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm",children:[s.action_type.replace(/_/g," ")," by"," ",(0,b.jsx)("span",{className:"font-semibold",children:s.actor_email||"System"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(s.timestamp).toLocaleString()})]})]});var a},C=()=>{const{data:e,isLoading:s,error:a}=(0,l.I)({queryKey:["dashboardData"],queryFn:v});if(s)return(0,b.jsx)(k,{});if(a)return(0,b.jsx)("div",{className:"p-6 text-center text-red-500",children:"Could not load dashboard data."});const{stats:r,recentActivity:t,recentTickets:d,licenseStats:c,distribution:i}=e||{};return(0,b.jsxs)(j.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"p-4 sm:p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Dashboard"}),r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,b.jsx)(w,{title:"Total Employees",value:r.total_employees,icon:(0,b.jsx)(g.A,{className:"text-white"}),color:"bg-blue-500"}),(0,b.jsx)(w,{title:"Active Employees",value:r.active_employees,icon:(0,b.jsx)(h.A,{className:"text-white"}),color:"bg-green-500"}),(0,b.jsx)(w,{title:"Total Users",value:r.total_users,icon:(0,b.jsx)(g.A,{className:"text-white"}),color:"bg-indigo-500"}),(0,b.jsx)(w,{title:"For Escalation",value:r.for_escalation_employees,icon:(0,b.jsx)(y.A,{className:"text-white"}),color:"bg-yellow-500"})]}),r.for_escalation_employees>0&&(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(_,{forEscalationCount:r.for_escalation_employees})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[c&&(0,b.jsx)(f,{data:c,title:"License Utilization"}),i&&(0,b.jsx)(A,{data:i,title:"Active Employees by Location"})]}),(0,b.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[t&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(m,{})," Recent Activity"]}),(0,b.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,b.jsx)(M,{log:e},e.id))})]}),d&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(p.A,{})," Recent Tickets"]}),(0,b.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,b.jsxs)("div",{className:"flex items-center gap-4 py-2",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 ".concat("Onboarding"===e.ticket_type?"bg-green-100":"bg-red-100"),children:(0,b.jsx)(p.A,{className:"w-5 h-5 ".concat("Onboarding"===e.ticket_type?"text-green-600":"text-red-600")})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm",children:[(0,b.jsxs)("span",{className:"font-semibold",children:[e.ticket_type,":"]})," ",e.first_name," ",e.last_name]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.ticket_id})]})]},"".concat(e.ticket_type,"-").concat(e.id)))})]})]})]})]})}}}]);
//# sourceMappingURL=123.8569e935.chunk.js.map